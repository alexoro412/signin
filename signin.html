<!DOCTYPE html>

<html>
<head>
  <script src="jquery-2.1.4.min.js"></script>
  <link href="fonts.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
  <style>
  #image{
      position:fixed;
      padding:0;
      margin:0;

      top:0;
      left:0;

      width: 100%;
      height: 100%;
      background-image: url("background.jpg");
      background-repeat:no-repeat;
      background-size: cover;
  }

  .surprise{
    display:none;
    position:fixed;
    top:0;
    left:0;
  }
  </style>
    <div id="image"></div>
    <div style="height:20vh;"></div>
    <div style="z-index:11;">
      <div class="col-sm-4 col-sm-offset-4" align="center">
        <iframe class="surprise" id="tutor" src="https://docs.google.com/a/kentdenver.org/forms/d/e/1FAIpQLScjT-OCAuvl12rkdcVac41NEB7EdA5mTlgdLPrhh4_egkhmfw/viewform?embedded=true" width="1024" height="768" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>
        <button class="btn btn-primary btn-lg" id="tutor-btn">Tutor Sign-in</button>
        <button class="surprise btn btn-primary btn-lg" id="tutor-close">Close</button>
        <br/>
        <div style="height:8vh;"></div>
        <iframe class="surprise" id="writing" src="https://docs.google.com/a/kentdenver.org/forms/d/e/1FAIpQLScAoQgL02FDlyzrQglhhDidO2-mTwlPMOmZMcZYfB_gMng9ow/viewform?embedded=true" width="1024" height="768" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>
        <button class="btn btn-primary btn-lg" id="writing-btn">Writing Center Checkout</button>
        <button class="surprise btn btn-primary btn-lg" id="writing-close">Close</button>

        <script>
          var config = ['tutor', 'writing'];

          var i2 = 0;

          var confirms = {};

          for(i2 = 0; i2 < config.length; i2++){
            var i = i2;
            const id = config[i];
            // console.log(i);
            document.getElementById(id+'-btn').onclick = function(){
              // console.log(id + " " + i);
              document.getElementById(id).style.display = "block";
              document.getElementById(id+'-close').style.display = "block";
            }

            document.getElementById(id+'-close').onclick = function(){
              document.getElementById(id).style.display = "none";
              document.getElementById(id+'-close').style.display = "none";
            }
            confirms[id] = true;

            document.getElementById(config[i]).addEventListener('load', () => {
              console.log(id + " load detected");
              // console.log(confirms[id]);
              confirms[id] = !confirms[id];
              console.log(id + " on confirm page? : " + confirms[id])
              // console.log(confirms[id]);
              if(confirms[id]){
                document.getElementById(id).style.display = "none";
                document.getElementById(id+'-close').style.display = "none;"
                document.getElementById(id).src = document.getElementById(id).src;
              }
            });
          }

          // function tutor(){
          //   document.getElementById('gform').style.display = "block";
          // }
          //
          // var isOnConfirmPage = true;
          //
          // document.getElementById('gform').addEventListener('load', () => {
          //   console.log("IT'S ALIVE");
          //   isOnConfirmPage = !isOnConfirmPage;
          //   if(isOnConfirmPage){
          //     document.getElementById('gform').style.display = "none";
          //     document.getElementById('gform').src = document.getElementById('gform').src;
          //   }
          // });
        </script>
      </div>
    </div>
  </body>
</html>
